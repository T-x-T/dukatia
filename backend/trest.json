{
	"configs": [
		{
			"name": "backend",
			"description": "tests for the rest api of the backend",
			"setup": {
				"cmd": "docker compose -f trest.backend.docker-compose.yml build && docker compose -f trest.backend.docker-compose.yml up -d",
				"finished_condition": {
					"endpoint_reachable": "/api/v1"
				}
			},
			"cleanup": {
				"cmd": "docker compose -f trest.backend.docker-compose.yml down && rm latest"
			},
			"api_hostname": "http://localhost:4000"
		},
		{
			"name": "backend_different_db_user",
			"description": "tests for the rest api of the backend when not using postgres as the user",
			"setup": {
				"cmd": "docker compose -f trest.backend_different_db_user.docker-compose.yml build && docker compose -f trest.backend_different_db_user.docker-compose.yml up -d",
				"finished_condition": {
					"endpoint_reachable": "/api/v1"
				}
			},
			"cleanup": {
				"cmd": "docker compose -f trest.backend_different_db_user.docker-compose.yml down && rm latest"
			},
			"api_hostname": "http://localhost:4000"
		}
	],
	"tasks": {
		"login_as_admin": {
			"endpoint": "/api/v1/login",
			"method": "POST",
			"body": {
				"name": "admin",
				"secret": "changeme"
			}
		},
		"login_as_user": {
			"endpoint": "/api/v1/login",
			"method": "POST",
			"body": {
				"name": "new user",
				"secret": "default_pass123"
			}
		},
		"login_as_user2": {
			"endpoint": "/api/v1/login",
			"method": "POST",
			"body": {
				"name": "aaa new user",
				"secret": "default_pass123"
			}
		}
	},
	"tests": [
		{
			"name": "currency",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all currencies works",
					"endpoint": "/api/v1/currencies/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"},{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "post of new currency returns 200",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"body": {
						"name": "test",
						"minor_in_major": 100,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id": "%%%ANY_UUID%%%"}
					}
				},
				{
					"name": "get USD",
					"endpoint": "/api/v1/currencies/all?skip_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "get single currency by id works",
					"endpoint": "/api/v1/currencies/%%%[[[get USD]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[get USD]]]...[[[id]]]%%%","name":"USD","minor_in_major":100,"symbol":"$"}
					}
				},
				{
					"name": "attempting to get single currency with non existant id returns 404",
					"endpoint": "/api/v1/currencies/04d758c8-d942-4a72-af76-88ed043e3236",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type currency not found with filter id=04d758c8-d942-4a72-af76-88ed043e3236"}
					}
				},
				{
					"name": "new currency created correctly",
					"endpoint": "/api/v1/currencies/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"},{"id":"%%%ANY_UUID%%%","name":"test","minor_in_major":100,"symbol":"*"},{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "updating details of currency returns 200",
					"endpoint": "/api/v1/currencies/%%%[[[post of new currency returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"minor_in_major": 12,
						"symbol": "/"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated currency details saved correctly",
					"endpoint": "/api/v1/currencies/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new currency returns 200]]]...[[[id]]]%%%","name":"edited test","minor_in_major":12,"symbol":"/"},{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"},{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "post of new currency returns 200 2",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"body": {
						"name": "test 2",
						"minor_in_major": 100,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new currency returns 200 3",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"body": {
						"name": "test 3",
						"minor_in_major": 100,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new currency returns 200 4",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"body": {
						"name": "test 4",
						"minor_in_major": 100,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of currencies returns expected output when using skip_results",
					"endpoint": "/api/v1/currencies/all?skip_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"test 2","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 3","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 4","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}
						]
					}
				},
				{
					"name": "retrieval of currencies returns expected output when using skip_results and max_results",
					"endpoint": "/api/v1/currencies/all?skip_results=2&max_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"test 2","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 3","minor_in_major":100,"symbol":"*"}
						]
					}
				},
				{
					"name": "retrieval of currencies returns expected output when using filter_id",
					"endpoint": "/api/v1/currencies/all?filter_id=%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%","name":"test 3","minor_in_major":100,"symbol":"*"}
						]
					}
				},
				{
					"name": "retrieval of currencies returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/currencies/all?filter_id=%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%&filter_mode_id=exact",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%","name":"test 3","minor_in_major":100,"symbol":"*"}
						]
					}
				},
				{
					"name": "retrieval of currencies returns expected output when using filter_id and filter_mode_id=not",
					"endpoint": "/api/v1/currencies/all?filter_id=%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%&filter_mode_id=not",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"edited test","minor_in_major":12,"symbol":"/"},
							{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"},
							{"id":"%%%ANY_UUID%%%","name":"test 2","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 4","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}
						]
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "regular user cant post new currency",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test",
						"minor_in_major": 100,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"youre not allowed to create new currencies"}
					}
				},
				{
					"name": "regular user cant update currency",
					"endpoint": "/api/v1/currencies/%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name":"edited test",
						"minor_in_major": 12,
						"symbol": "/"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"youre not allowed to update existing currencies"}
					}
				},
				{
					"name": "regular user can retrieve all currencies",
					"endpoint": "/api/v1/currencies/all",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"edited test","minor_in_major":12,"symbol":"/"},
							{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"},
							{"id":"%%%ANY_UUID%%%","name":"test 2","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 3","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"test 4","minor_in_major":100,"symbol":"*"},
							{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}
						]
					}
				},
				{
					"name": "regular user can get single currency by id",
					"endpoint": "/api/v1/currencies/%%%[[[post of new currency returns 200 3]]]...[[[id]]]%%%",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%ANY_UUID%%%","name":"test 3","minor_in_major":100,"symbol":"*"}
					}
				}
			]
		},
		{
			"name": "recipients",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all recipients works",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}]
					}
				},
				{
					"name": "post of new recipient returns 200",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new recipient created correctly",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}, {"id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}]
					}
				},
				{
					"name": "get single recipient by id works",
					"endpoint": "/api/v1/recipients/%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
					}
				},
				{
					"name": "attempting to get single recipient with non existant id returns 404",
					"endpoint": "/api/v1/recipients/6c7b8c1a-0261-49b3-b924-2e4ffd910e96",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type recipient not found with filter id=6c7b8c1a-0261-49b3-b924-2e4ffd910e96"}
					}
				},
				{
					"name": "updating name of recipient returns 200",
					"endpoint": "/api/v1/recipients/%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated recipient name saved correctly",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}, {"id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}]
					}
				},
				{
					"name": "post of new recipient returns 200 2",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new recipient returns 200 3",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test3"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new recipient returns 200 4",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test4"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new recipient returns 200 5",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test5"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of recipients returns expected output when using skip_results",
					"endpoint": "/api/v1/recipients/all?skip_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new recipient returns 200 2]]]...[[[id]]]%%%","name":"test2","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 3]]]...[[[id]]]%%%","name":"test3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%","name":"test4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 5]]]...[[[id]]]%%%","name":"test5","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
						]
					}
				},
				{
					"name": "retrieval of recipients returns expected output when using skip_results and max_results",
					"endpoint": "/api/v1/recipients/all?skip_results=2&max_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new recipient returns 200 2]]]...[[[id]]]%%%","name":"test2","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 3]]]...[[[id]]]%%%","name":"test3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
						]
					}
				},
				{
					"name": "retrieval of recipients returns expected output when using filter_id",
					"endpoint": "/api/v1/recipients/all?filter_id=%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%","name":"test4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
						]
					}
				},
				{
					"name": "retrieval of recipients returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/recipients/all?filter_id=%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%&filter_mode_id=exact",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%","name":"test4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
						]
					}
				},
				{
					"name": "retrieval of recipients returns expected output when using filter_id and filter_mode_id=not",
					"endpoint": "/api/v1/recipients/all?filter_id=%%%[[[post of new recipient returns 200 4]]]...[[[id]]]%%%&filter_mode_id=not",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 2]]]...[[[id]]]%%%","name":"test2","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 3]]]...[[[id]]]%%%","name":"test3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]},
							{"id":"%%%[[[post of new recipient returns 200 5]]]...[[[id]]]%%%","name":"test5","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[]}
						]
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post recipient",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test of new user"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user sees only their own recipients",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]},{"id":"%%%[[[new user can post recipient]]]...[[[id]]]%%%","name":"test of new user","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","tag_ids":[]}]
					}
				},
				{
					"name": "updating recipient of other user doesnt work",
					"endpoint": "/api/v1/recipients/%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name":"edited test"
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "get single recipient of other user by id doesnt work",
					"endpoint": "/api/v1/recipients/%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "get single recipient of no user by id works",
					"endpoint": "/api/v1/recipients/%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","name":"Default","user_id":null,"tag_ids":[]}
					}
				}
			]
		},
		{
			"name": "accounts",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get euro",
					"endpoint": "/api/v1/currencies/all?max_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"}]
					}
				},
				{
					"name": "get usd",
					"endpoint": "/api/v1/currencies/all?skip_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "retrieval of all accounts works",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "post of new account returns 200",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test",
						"default_currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new account created correctly",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},{"id":"%%%[[[post of new account returns 200]]]...[[[id]]]%%%","name":"test","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "get single account by id works",
					"endpoint": "/api/v1/accounts/%%%[[[post of new account returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new account returns 200]]]...[[[id]]]%%%","name":"test","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
					}
				},
				{
					"name": "attempting to get single account with non existant id returns 404",
					"endpoint": "/api/v1/accounts/daa73b0c-3d30-4edc-b793-20a07df98538",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type account not found with filter id=daa73b0c-3d30-4edc-b793-20a07df98538"}
					}
				},
				{
					"name": "updating details of account returns 200",
					"endpoint": "/api/v1/accounts/%%%[[[post of new account returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"default_currency_id": "%%%[[[get usd]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated account name saved correctly",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},{"id":"%%%[[[post of new account returns 200]]]...[[[id]]]%%%","name":"edited test","default_currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "post of new account returns 200 2",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test 2",
						"default_currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new account returns 200 3",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test 3",
						"default_currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new account returns 200 4",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test 4",
						"default_currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of accounts returns expected output when using skip_results",
					"endpoint": "/api/v1/accounts/all?skip_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new account returns 200 2]]]...[[[id]]]%%%","name":"test 2","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200 3]]]...[[[id]]]%%%","name":"test 3","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%","name":"test 4","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
						]
					}
				},
				{
					"name": "retrieval of accounts returns expected output when using skip_results and max_results",
					"endpoint": "/api/v1/accounts/all?skip_results=2&max_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new account returns 200 2]]]...[[[id]]]%%%","name":"test 2","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200 3]]]...[[[id]]]%%%","name":"test 3","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
						]
					}
				},
				{
					"name": "retrieval of accounts returns expected output when using filter_id",
					"endpoint": "/api/v1/accounts/all?filter_id=%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%","name":"test 4","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
						]
					}
				},
				{
					"name": "retrieval of accounts returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/accounts/all?filter_id=%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%&filter_mode_id=exact",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%","name":"test 4","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
						]
					}
				},
				{
					"name": "retrieval of accounts returns expected output when using filter_id and filter_mode_id=not",
					"endpoint": "/api/v1/accounts/all?filter_id=%%%[[[post of new account returns 200 4]]]...[[[id]]]%%%&filter_mode_id=not",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200]]]...[[[id]]]%%%","name":"edited test","default_currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200 2]]]...[[[id]]]%%%","name":"test 2","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null},
							{"id":"%%%[[[post of new account returns 200 3]]]...[[[id]]]%%%","name":"test 3","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}
						]
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post account",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test",
						"default_currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user can only see their own accounts",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can post account]]]...[[[id]]]%%%","name":"test","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "new user cant modify account of other user",
					"endpoint": "/api/v1/accounts/%%%[[[post of new account returns 200 2]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name":"edited test",
						"default_currency_id": "%%%[[[get usd]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "get single account of other user doesnt work",
					"endpoint": "/api/v1/accounts/%%%[[[post of new account returns 200 2]]]...[[[id]]]%%%",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				}
			]
		},
		{
			"name": "tags",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all tags works with no tags in the database",
					"endpoint": "/api/v1/tags/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "post of new tag returns 200",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new tag created correctly",
					"endpoint": "/api/v1/tags/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}]
					}
				},
				{
					"name": "get single tag by id works",
					"endpoint": "/api/v1/tags/%%%[[[new tag created correctly]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[new tag created correctly]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}
					}
				},
				{
					"name": "attempting to get single tag with non existant id returns 404",
					"endpoint": "/api/v1/tags/2d2d0132-0e01-41a4-9fde-21e029af692b",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type tag not found with filter id=2d2d0132-0e01-41a4-9fde-21e029af692b"}
					}
				},
				{
					"name": "updating details of tag returns 200",
					"endpoint": "/api/v1/tags/%%%[[[new tag created correctly]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated tag name saved correctly",
					"endpoint": "/api/v1/tags/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new tag created correctly]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}]
					}
				},
				{
					"name": "deleting tag returns 200",
					"endpoint": "/api/v1/tags/%%%[[[new tag created correctly]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "deleted tag doesnt get returned by get all anymore",
					"endpoint": "/api/v1/tags/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "post of another tag returns 200",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of third tag returns 200",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updating parent of tag returns 200",
					"endpoint": "/api/v1/tags/%%%[[[post of another tag returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"parent_id": "%%%[[[post of third tag returns 200]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated tag parent_id saved correctly",
					"endpoint": "/api/v1/tags/%%%[[[post of another tag returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of another tag returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":"%%%[[[post of third tag returns 200]]]...[[[id]]]%%%"}
					}
				},
				{
					"name": "creating cyclic parent relationship fails",
					"endpoint": "/api/v1/tags/%%%[[[post of third tag returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"parent_id": "%%%[[[post of another tag returns 200]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error": "the given item is invalid, because parent doesn't exist or would create a cyclic relationship"}
					}
				},
				{
					"name": "deleting tag thats used as a parent returns 200",
					"endpoint": "/api/v1/tags/%%%[[[post of third tag returns 200]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "tag whose parent got deleted now has null as parent_id",
					"endpoint": "/api/v1/tags/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of another tag returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}]
					}
				},
				{
					"name": "creating tag with non existant parent fails",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name":"edited test",
						"parent_id": "4cb435a0-f817-46b4-b251-70d8c2d8e1de"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error": "the given item is invalid, because parent doesn't exist or would create a cyclic relationship"}
					}
				},
				{
					"name": "updating tag with non existant parent fails",
					"endpoint": "/api/v1/tags/%%%[[[post of third tag returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"parent_id": "4cb435a0-f817-46b4-b251-70d8c2d8e1de"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error": "the given item is invalid, because parent doesn't exist or would create a cyclic relationship"}
					}
				},
				{
					"name": "post of another tag returns 200 2",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of another tag returns 200 3",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test3"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of another tag returns 200 4",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test4"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of tags returns expected output when using filter_id",
					"endpoint": "/api/v1/tags/all?filter_id=%%%[[[post of another tag returns 200 3]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of another tag returns 200 3]]]...[[[id]]]%%%","name":"test3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}
						]
					}
				},
				{
					"name": "retrieval of tags returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/tags/all?filter_id=%%%[[[post of another tag returns 200 3]]]...[[[id]]]%%%&filter_mode_id=exact",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%[[[post of another tag returns 200 3]]]...[[[id]]]%%%","name":"test3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","parent_id":null}
						]
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post tag",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user can only see their own tags",
					"endpoint": "/api/v1/tags/all",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can post tag]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","parent_id":null}]
					}
				},
				{
					"name": "new user cant get get other users tag by id",
					"endpoint": "/api/v1/tags/%%%[[[post of another tag returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant modify tag of other user",
					"endpoint": "/api/v1/tags/%%%[[[post of another tag returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "PUT",
					"body": {
						"name":"edited test"
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant delete tag of other user",
					"endpoint": "/api/v1/tags/%%%[[[post of another tag returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 404
					}
				}
			]
		},
		{
			"name": "users",
			"tests": [
				{
					"name": "get me works",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%ANY_UUID%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}
					} 
				},
				{
					"name": "get all works",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[get me works]]]...[[[id]]]%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}]
					} 
				},
				{
					"name": "post of new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"name": "aaa new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user got created correctly",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"aaa new user","secret":null,"encrypted_secret":null,"superuser":false,"active":true,"last_logon":null},{"id":"%%%[[[get me works]]]...[[[id]]]%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}]
					} 
				},
				{
					"name": "new user can login",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "aaa new user",
						"secret": "default_pass123"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "get all doesnt work for non superuser",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_user2.access_token"
					},
					"before": [
						"login_as_user2"
					],
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"you need to be a superuser for this action"}
					} 
				},
				{
					"name": "updating only active of user works",
					"endpoint": "/api/v1/users/%%%[[[new user can login]]]...[[[user_id]]]%%%",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"active": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "user got updated correctly 3",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can login]]]...[[[user_id]]]%%%","name":"aaa new user","secret":null,"encrypted_secret":null,"superuser":false,"active":false,"last_logon":"%%%ANY_STRING%%%"},{"id":"%%%[[[get me works]]]...[[[id]]]%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}]
					} 
				},
				{
					"name": "deactivated users cannot login",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "aaa new user",
						"secret": "default_pass123"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"the given credentials are invalid"}
					} 
				},
				{
					"name": "updating superuser, secret and active of user works",
					"endpoint": "/api/v1/users/%%%[[[new user can login]]]...[[[user_id]]]%%%",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"secret": "new_pass",
						"superuser": true,
						"active": true
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "user got updated correctly",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can login]]]...[[[user_id]]]%%%","name":"aaa new user","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"},{"id":"%%%[[[get me works]]]...[[[id]]]%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}]
					} 
				},
				{
					"name": "user can login with changed password",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "aaa new user",
						"secret": "new_pass"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "updating only superuser of user works",
					"endpoint": "/api/v1/users/%%%[[[new user can login]]]...[[[user_id]]]%%%",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "user got updated correctly 2",
					"endpoint": "/api/v1/users/all",
					"method": "GET",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can login]]]...[[[user_id]]]%%%","name":"aaa new user","secret":null,"encrypted_secret":null,"superuser":false,"active":true,"last_logon":"%%%ANY_STRING%%%"},{"id":"%%%[[[get all works]]]...[[[id]]]%%%","name":"admin","secret":null,"encrypted_secret":null,"superuser":true,"active":true,"last_logon":"%%%ANY_STRING%%%"}]
					} 
				},
				{
					"name": "trying to deactive yourself doesnt work",
					"endpoint": "/api/v1/users/%%%[[[get me works]]]...[[[id]]]%%%",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"active": false
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error": "you cant edit yourself!"}
					} 
				},
				{
					"name": "updating only secret of user works",
					"endpoint": "/api/v1/users/%%%[[[new user can login]]]...[[[user_id]]]%%%",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"secret": "new_pass2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "user can login with changed password 2",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "aaa new user",
						"secret": "new_pass2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "logout returns 200",
					"endpoint": "/api/v1/logout",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"method": "POST",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "login with wrong secret doesnt work",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "admin",
						"secret": "wrong_password"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"the given credentials are invalid"}
					} 
				},
				{
					"name": "login with correct secret works",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "admin",
						"secret": "changeme"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "changing password returns 200",
					"endpoint": "/api/v1/users/me/secret",
					"method": "PUT",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"old_secret": "changeme",
						"new_secret": "new_password"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "login with new secret works",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "admin",
						"secret": "new_password"
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "login with old secret doesnt work",
					"endpoint": "/api/v1/login",
					"method": "POST",
					"body": {
						"name": "admin",
						"secret": "changeme"
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"the given credentials are invalid"}
					} 
				}
			]
		},
		{
			"name": "transactions",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all transactions works with none in the database",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "get euro",
					"endpoint": "/api/v1/currencies/all?max_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"}]
					}
				},
				{
					"name": "get usd",
					"endpoint": "/api/v1/currencies/all?skip_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "retrieval of summary returns expected output when there are no items in the database",
					"endpoint": "/api/v1/transactions/summary",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"count":0,"total_amount":""}
					}
				},
				{
					"name": "retrieval of all recipients works",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}]
					}
				},
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of all accounts works",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "post of new transaction returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new transaction created correctly",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-25T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}]
					}
				},
				{
					"name": "get single transaction by id works",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-25T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}
					}
				},
				{
					"name": "attempting to get single transaction with non existant id returns 404",
					"endpoint": "/api/v1/transactions/512c2607-84f4-4a1a-a896-5e824fedb256",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"Couldnt find transaction with id 512c2607-84f4-4a1a-a896-5e824fedb256"}
					}
				},
				{
					"name": "updating details of transaction returns 200",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2024-03-25T11:22:00.000Z",
						"comment": "this is an edited comment",
						"positions": [
							{
								"amount": {
									"major": -123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "b"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated transaction details saved correctly",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2024-03-25T11:22:00Z","total_amount":{"major":-123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"this is an edited comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"b","tag_id":null}]}]
					}
				},
				{
					"name": "post of second transaction returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "deleting transaction returns 200",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction returns 200]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "correct transaction got deleted",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of second transaction returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-25T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}]
					}
				},
				{
					"name": "post of transaction with non existant account_id returns 400",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "83814b73-8a2a-4aa0-9d09-54b7b12195da",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"specified item of type account not found with filter id=83814b73-8a2a-4aa0-9d09-54b7b12195da"}
					}
				},
				{
					"name": "post of transaction with non existant recipient_id returns 400",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "c662c46b-4b7b-47f9-88d4-eb7c8910ab13",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 400
					}
				},
				{
					"name": "post tag id 0",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "tag1"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post tag id 1",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "tag2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of transaction with tag 0 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-26T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction with tag 0 got created correctly",
					"endpoint": "/api/v1/transactions/%%%[[[post of transaction with tag 0 returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of transaction with tag 0 returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-26T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%"],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}
					}
				},
				{
					"name": "post of transaction with tag 1 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-27T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a",
								"tag_id": "%%%[[[post tag id 0]]]...[[[id]]]%%%"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction with tag 1 got created correctly",
					"endpoint": "/api/v1/transactions/%%%[[[post of transaction with tag 1 returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of transaction with tag 1 returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-27T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%"],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":"%%%[[[post tag id 0]]]...[[[id]]]%%%"}]}
					}
				},
				{
					"name": "post of transaction with tags 0 and 1 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-28T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction with tag 0 and 1 got created correctly",
					"endpoint": "/api/v1/transactions/%%%[[[post of transaction with tags 0 and 1 returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of transaction with tags 0 and 1 returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-28T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 1]]]...[[[id]]]%%%"],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}
					}
				},
				{
					"name": "retrieval of summary returns expected output when there are items",
					"endpoint": "/api/v1/transactions/summary",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"count":4,"total_amount":"493.80€"}
					}
				},
				{
					"name": "post of new account returns 200",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test",
						"default_currency_id": "%%%[[[get usd]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction with different currency returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-29T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "$"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of summary returns expected output when there are items with different currencies",
					"endpoint": "/api/v1/transactions/summary",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"count":5,"total_amount":"493.80€ 123.45$"}
					}
				},
				{
					"name": "retrieval of summary disregards skip_results and max_results",
					"endpoint": "/api/v1/transactions/summary?skip_results=1&max_results=3",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"count":5,"total_amount":"493.80€ 123.45$"}
					}
				},
				{
					"name": "post of new transaction using minor_amount above minor_in_major value for currency returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 450,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction using minor_amount equal to minor_in_major value for currency returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 100,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new currency with minor_in_major 50 returns 200",
					"endpoint": "/api/v1/currencies",
					"method": "POST",
					"body": {
						"name": "test",
						"minor_in_major": 50,
						"symbol": "*"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new account with default_currency_id 2 returns 200",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "test",
						"default_currency_id": "%%%[[[post of new currency with minor_in_major 50 returns 200]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction using major_amount and minor_amount with account_id 2 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with default_currency_id 2 returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 50,
									"symbol": "*"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new transaction created correctly when using major_amount and minor_amount with account_id 2",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[post of new currency with minor_in_major 50 returns 200]]]...[[[id]]]%%%","account_id":"%%%[[[post of new account with default_currency_id 2 returns 200]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-25T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":50,"symbol":"*","is_negative":false},"comment":"this is a comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":50,"symbol":"*","is_negative":false},"comment":"a","tag_id":null}]}
					}
				},
				{
					"name": "updating transaction using major_amount and minor_amount returns 200",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2024-03-25T11:22:00.000Z",
						"comment": "this is an edited comment",
						"positions": [
							{
								"amount": {
									"major": 56,
									"minor": 89,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "b"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated transaction details saved correctly when using major_amount and minor_amount",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2024-03-25T11:22:00Z","total_amount":{"major":56,"minor":89,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is an edited comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":56,"minor":89,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"b","tag_id":null}]}
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post transaction",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user can only see their own transactions",
					"endpoint": "/api/v1/transactions/all",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can post transaction]]]...[[[id]]]%%%","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-25T11:22:00Z","total_amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"this is a comment","tag_ids":[],"asset":null,"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":123,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"a","tag_id":null}]}]
					}
				},
				{
					"name": "new user cant modify transaction of other user",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2024-03-25T11:22:00.000Z",
						"comment": "this is an edited comment",
						"positions": [
							{
								"amount": {
									"major": -123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "b"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant get other users transaction by id",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant delete transaction of other user",
					"endpoint": "/api/v1/transactions/%%%[[[post of new transaction using major_amount and minor_amount with account_id 2 returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "retrieval of summary only returns items of current user",
					"endpoint": "/api/v1/transactions/summary",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"count":1,"total_amount":"123.45€"}
					}
				}
			]
		},
		{
			"name": "assets",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all assets works when none are created yet",
					"endpoint": "/api/v1/assets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "get euro",
					"endpoint": "/api/v1/currencies/all?max_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"}]
					}
				},
				{
					"name": "get usd",
					"endpoint": "/api/v1/currencies/all?skip_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "post of new asset returns 200 1",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new asset created correctly",
					"endpoint": "/api/v1/assets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "get single asset by id works",
					"endpoint": "/api/v1/assets/%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}
					}
				},
				{
					"name": "attempting to get single asset with non existant id returns 404",
					"endpoint": "/api/v1/assets/ec1a88a8-84ff-4b73-946c-062233c9e84b",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type asset not found with filter id=ec1a88a8-84ff-4b73-946c-062233c9e84b"}
					}
				},
				{
					"name": "updating details of asset returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name":"edited test",
						"description": "edited description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated asset details saved correctly",
					"endpoint": "/api/v1/assets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"edited test","description":"edited description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "post of second asset returns 200",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 1",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "deleting asset returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of new asset returns 200 1]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "correct asset got deleted",
					"endpoint": "/api/v1/assets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "post of valuation returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 10,
						"timestamp": "2023-03-18T11:22:00Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "valuation got correctly saved 1",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-18T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"}]
					}
				},
				{
					"name": "post of valuation with cost returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 10,
						"timestamp": "2023-03-19T11:22:00Z",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "valuation got correctly saved 2",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-18T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-19T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"}]
					}
				},
				{
					"name": "no transactions created, because account_id wasnt specified",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "retrieval of all accounts works",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "post of valuation with account_id returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 20,
						"timestamp": "2023-03-20T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of all recipients works",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}]
					}
				},
				{
					"name": "transaction gets correctly created 1",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "post of new recipient returns 200",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "special"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of valuation with account_id and recipient returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 20,
						"timestamp": "2023-03-20T11:22:30Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction gets correctly created 1.1",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:30Z","total_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Bought 0 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "post of valuation with account_id and cost returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 30,
						"timestamp": "2023-03-21T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction gets correctly created 2",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-21T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:30Z","total_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Bought 0 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "post of valuation with account_id, cost and lower amount returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 10,
						"timestamp": "2023-03-22T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction gets correctly created 3",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-22T11:22:00Z","total_amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Sold 20 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-21T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:30Z","total_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Bought 0 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "post of valuation with account_id, cost and amount_change returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount_change": 10,
						"timestamp": "2023-03-23T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction gets correctly created 4",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-23T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-22T11:22:00Z","total_amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Sold 20 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-21T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:30Z","total_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Bought 0 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "post of valuation with account_id, cost and negative amount_change returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount_change": -10,
						"timestamp": "2023-03-24T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "transaction gets correctly created 5",
					"endpoint": "/api/v1/transactions/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-24T11:22:00Z","total_amount":{"major":11,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Sold 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":11,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-23T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-22T11:22:00Z","total_amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Sold 20 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":23,"minor":60,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-21T11:22:00Z","total_amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each with additional cost of 1.00€","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-13,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:30Z","total_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":"Bought 0 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"comment":null,"tag_id":null}]},
							{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","account_id":"%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%","recipient_id":"%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%","status":1,"timestamp":"2023-03-20T11:22:00Z","total_amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":"Bought 10 units at 1.23€ each","tag_ids":[],"asset":{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":null,"amount":null,"tag_ids":[],"total_cost_of_ownership":null},"positions":[{"id":"%%%ANY_UUID%%%","amount":{"major":-12,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":true},"comment":null,"tag_id":null}]}
						]
					}
				},
				{
					"name": "valuation got correctly saved 3",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-18T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-19T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":20.0,"timestamp":"2023-03-20T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":20.0,"timestamp":"2023-03-20T11:22:30Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":30.0,"timestamp":"2023-03-21T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-22T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":20.0,"timestamp":"2023-03-23T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},{"value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"timestamp":"2023-03-24T11:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"}]
					}
				},
				{
					"name": "replacing asset valuation history returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"method": "POST",
					"body": [
						{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":20.0,"timestamp":"2023-03-20T12:22:00Z"},
						{"value_per_unit":{"major": 1,"minor": 25,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":-30.0,"timestamp":"2023-03-21T13:22:00Z"},
						{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":10.0,"timestamp":"2023-03-22T14:22:00Z"}
					],
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "valuation got correctly overwritten",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [
							{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":20.0,"timestamp":"2023-03-20T12:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},
							{"value_per_unit":{"major": 1,"minor": 25,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":-30.0,"timestamp":"2023-03-21T13:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"},
							{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":10.0,"timestamp":"2023-03-22T14:22:00Z","asset_id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%"}
						]
					}
				},
				{
					"name": "post of new asset returns 200 2",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 2",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new asset returns 200 3",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 3",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new asset returns 200 4",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 4",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new asset returns 200 5",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 5",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new asset returns 200 6",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test 6",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of assets returns expected output when using skip_results",
					"endpoint": "/api/v1/assets/all?skip_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 3]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 3","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 4","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 5]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 5","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 6]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 6","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "retrieval of assets returns expected output when using skip_results and max_results",
					"endpoint": "/api/v1/assets/all?skip_results=2&max_results=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 3]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 3","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 4","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "retrieval of assets returns expected output when using filter_id",
					"endpoint": "/api/v1/assets/all?filter_id=%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 4","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "retrieval of assets returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/assets/all?filter_id=%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%&filter_mode_id=exact",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 4","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0.0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "retrieval of assets returns expected output when using filter_id and filter_mode_id=not",
					"endpoint": "/api/v1/assets/all?filter_id=%%%[[[post of new asset returns 200 4]]]...[[[id]]]%%%&filter_mode_id=not&timestamp=2023-11-27T11:22:00.000Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of second asset returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 1","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":1,"minor":23,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":10.0,"tag_ids":[],"total_cost_of_ownership":{"total":{"major":4,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"monthly":{"major":0,"minor":30,"minor_in_major":100,"symbol":"€","is_negative":false},"yearly":{"major":3,"minor":65,"minor_in_major":100,"symbol":"€","is_negative":false}}},{"id":"%%%[[[post of new asset returns 200 2]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 2","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 3]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 3","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 5]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 5","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0,"tag_ids":[],"total_cost_of_ownership":null},{"id":"%%%[[[post of new asset returns 200 6]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"test 6","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post asset",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test 7",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user can only see their own assets",
					"endpoint": "/api/v1/assets/all",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can post asset]]]...[[[id]]]%%%","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","name":"test 7","description":"description","currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","value_per_unit":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"amount":0,"tag_ids":[],"total_cost_of_ownership":null}]
					}
				},
				{
					"name": "new user cant modify asset of other user",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name":"edited test",
						"description": "edited description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant get other users asset by id",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant get valuation history of other users asset by id",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant replace valuation history for other users asset",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuation_history",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "POST",
					"body": [
						{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":20.0,"timestamp":"2023-03-20T12:22:00Z"},
						{"value_per_unit":{"major": 1,"minor": 25,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":-30.0,"timestamp":"2023-03-21T13:22:00Z"},
						{"value_per_unit":{"major": 1,"minor": 23,"minor_in_major": 100,"symbol": "€","is_negative": false},"amount":10.0,"timestamp":"2023-03-22T14:22:00Z"}
					],
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant post valuation for other users asset",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%/valuations",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount_change": -10,
						"timestamp": "2023-03-24T11:22:00Z",
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"cost": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						}
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant delete other users asset",
					"endpoint": "/api/v1/assets/%%%[[[post of second asset returns 200]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 404
					}
				}
			]
		},
		{
			"name": "dashboard",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "getting own dashboards returns default dashboard on default db",
					"endpoint": "/api/v1/users/me/dashboards",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","name":"Default Dashboard","description":"The default Dashboard"}]
					}
				}
			]
		},
		{
			"name": "charts",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get euro",
					"endpoint": "/api/v1/currencies/all?max_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"}]
					}
				},
				{
					"name": "get usd",
					"endpoint": "/api/v1/currencies/all?skip_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "retrieval of all recipients works",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}]
					}
				},
				{
					"name": "retrieval of all accounts works",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "adding pie chart using filter_collection get_per_recipient_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "pie",
						"title": "Spending per recipient in date range",
						"filter_collection": "get_per_recipient_over_time"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "pie chart using filter_collection get_per_recipient_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"pie","title":"Spending per recipient in date range","filter_from":null,"filter_to":null,"filter_collection":"get_per_recipient_over_time","date_period":null,"asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding pie chart using filter_collection get_per_tag_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "pie",
						"title": "Spending per tag in date range",
						"filter_collection": "get_per_tag_over_time"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "pie chart using filter_collection get_per_tag_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"pie","title":"Spending per tag in date range","filter_from":null,"filter_to":null,"filter_collection":"get_per_tag_over_time","date_period":null,"asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_per_recipient_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Spending per recipient over time",
						"filter_collection": "get_per_recipient_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_per_recipient_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Spending per recipient over time","filter_from":null,"filter_to":null,"filter_collection":"get_per_recipient_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_per_account_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Spending per account over time",
						"filter_collection": "get_per_account_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_per_account_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Spending per account over time","filter_from":null,"filter_to":null,"filter_collection":"get_per_account_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_per_currency_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Spending per currency over time",
						"filter_collection": "get_per_currency_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_per_currency_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Spending per currency over time","filter_from":null,"filter_to":null,"filter_collection":"get_per_currency_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_earning_spending_net_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Earning and spending over time",
						"filter_collection": "get_earning_spending_net_over_time",
						"date_period": "monthly"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_earning_spending_net_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Earning and spending over time","filter_from":null,"filter_to":null,"filter_collection":"get_earning_spending_net_over_time","date_period":"monthly","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_single_asset_total_value_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Total value over time",
						"filter_collection": "get_single_asset_total_value_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_single_asset_total_value_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_total_value_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_single_asset_total_value_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Total value over time","filter_from":null,"filter_to":null,"filter_collection":"get_single_asset_total_value_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_single_asset_single_value_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Value over time per single unit",
						"filter_collection": "get_single_asset_single_value_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_single_asset_single_value_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_single_value_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_single_asset_single_value_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Value over time per single unit","filter_from":null,"filter_to":null,"filter_collection":"get_single_asset_single_value_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},
				{
					"name": "adding line chart using filter_collection get_single_asset_amount_over_time returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "Amount over time",
						"filter_collection": "get_single_asset_amount_over_time",
						"date_period": "daily"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "line chart using filter_collection get_single_asset_amount_over_time got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_amount_over_time returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding line chart using filter_collection get_single_asset_amount_over_time returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"Amount over time","filter_from":null,"filter_to":null,"filter_collection":"get_single_asset_amount_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":null,"date_range":null,"only_positive":null,"only_negative":null,"top_left_x":null,"top_left_y":null,"bottom_right_x":null,"bottom_right_y":null,"dashboard_id":null}
					}
				},



				{
					"name": "adding chart with all options returns 200",
					"endpoint": "/api/v1/charts",
					"method": "POST",
					"body": {
						"chart_type": "line",
						"title": "test",
						"filter_from": "2022-03-25T11:22:00.000Z",
						"filter_to": "2023-03-25T11:22:00.000Z",
						"filter_collection": "get_single_asset_amount_over_time",
						"date_period": "daily",
						"max_items": 12,
						"date_range": 3,
						"top_left_x": 1,
						"top_left_y": 2,
						"bottom_right_x": 3,
						"bottom_right_y": 4,
						"only_positive": true,
						"only_negative": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "chart with all options got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"line","title":"test","filter_from":"2022-03-25T11:22:00Z","filter_to":"2023-03-25T11:22:00Z","filter_collection":"get_single_asset_amount_over_time","date_period":"daily","asset_id":null,"budget_id":null,"max_items":12,"date_range":3,"only_positive":true,"only_negative":false,"top_left_x":1,"top_left_y":2,"bottom_right_x":3,"bottom_right_y":4,"dashboard_id":null}
					}
				},
				{
					"name": "modifying chart with all options returns 200",
					"endpoint": "/api/v1/charts/%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"chart_type": "pie",
						"title": "test2",
						"filter_from": "2021-03-25T11:22:00.000Z",
						"filter_to": "2022-03-25T11:22:00.000Z",
						"filter_collection": "get_per_tag_over_time",
						"date_period": "monthly",
						"max_items": 2,
						"date_range": 1,
						"top_left_x": 4,
						"top_left_y": 5,
						"bottom_right_x": 6,
						"bottom_right_y": 7,
						"only_positive": false,
						"only_negative": true
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "chart with all options modified got created correctly",
					"endpoint": "/api/v1/charts/%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","chart_type":"pie","title":"test2","filter_from":"2021-03-25T11:22:00Z","filter_to":"2022-03-25T11:22:00Z","filter_collection":"get_per_tag_over_time","date_period":"monthly","asset_id":null,"budget_id":null,"max_items":2,"date_range":1,"only_positive":false,"only_negative":true,"top_left_x":4,"top_left_y":5,"bottom_right_x":6,"bottom_right_y":7,"dashboard_id":null}
					}
				},
				{
					"name": "deleting chart returns 200",
					"endpoint": "/api/v1/charts/%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "deleted chart isnt there anymore",
					"endpoint": "/api/v1/charts/%%%[[[adding chart with all options returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 400,
						"body_equals": {"error":"%%%ANY_STRING%%%"}
					}
				},



				{
					"name": "post of new tag returns 200",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "tag1"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of second new tag returns 200",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "tag2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new recipient returns 200",
					"endpoint": "/api/v1/recipients",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new account with USD Currency returns 200",
					"endpoint": "/api/v1/accounts",
					"method": "POST",
					"body": {
						"name": "USD",
						"default_currency_id": "%%%[[[get usd]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},



				{
					"name": "post of new transaction in account 0 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "$"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in account 1 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%","%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{		
								"amount": {
									"major": 0,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€",
									"is_negative": true
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in account 2 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 10,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "$"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},



				{
					"name": "retrieval of pie chart using filter_collection get_per_recipient_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.45,"label":"123.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of pie chart using filter_collection get_per_tag_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"tag1","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"tag2","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_recipient_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.45,"label":"123.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_account_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"2023-03-25","value":10.0,"label":"10.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_currency_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Euro","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"2023-03-25","value":10.0,"label":"10.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_earning_spending_net_over_time returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=daily",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"2023-03-25","value":133.45,"label":"123.45€ 10.00$"}]},{"label":"Net","data":[{"name":null,"timestamp":"2023-03-25","value":133.0,"label":"123.00€ 10.00$"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-25","value":-0.45,"label":"-0.45€"}]}]}
					}
				},



				{
					"name": "post of new transaction in the past in account 0 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "1923-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 1,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in the past in account 1 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%","%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "1923-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 2,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "$"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in the past in account 2 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "1923-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 3,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in the future in account 0 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2123-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 1,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in the future in account 1 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%","%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2123-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 2,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "$"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in the future in account 2 returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2123-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 3,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},




				{
					"name": "retrieval of pie chart using filter_collection get_per_recipient_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":124.45,"label":"124.45€"},{"name":null,"timestamp":"2123-03-25","value":125.45,"label":"125.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":14.55,"label":"15.00$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":19.55,"label":"20.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of pie chart using filter_collection get_per_tag_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"tag1","data":[{"name":null,"timestamp":"1923-03-25","value":3.0,"label":"2.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":126.0,"label":"2.00$ 124.00€"},{"name":null,"timestamp":"2123-03-25","value":129.0,"label":"4.00$ 125.00€"}]},{"label":"tag2","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":14.55,"label":"15.00$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":19.55,"label":"20.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_recipient_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":124.45,"label":"124.45€"},{"name":null,"timestamp":"2123-03-25","value":125.45,"label":"125.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":14.55,"label":"15.00$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":19.55,"label":"20.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_account_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":124.0,"label":"124.00€"},{"name":null,"timestamp":"2123-03-25","value":125.0,"label":"125.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":15.0,"label":"15.00$"},{"name":null,"timestamp":"2123-03-25","value":20.0,"label":"20.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_currency_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Euro","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":124.0,"label":"124.00€"},{"name":null,"timestamp":"2123-03-25","value":125.0,"label":"125.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":15.0,"label":"15.00$"},{"name":null,"timestamp":"2123-03-25","value":20.0,"label":"20.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_earning_spending_net_over_time returns correct output with more transactions",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=daily",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":133.45,"label":"123.45€ 10.00$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":133.0,"label":"123.00€ 10.00$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-25","value":-0.45,"label":"-0.45€"}]}]}
					}
				},



				{
					"name": "retrieval of pie chart using filter_collection get_per_recipient_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.45,"label":"123.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of pie chart using filter_collection get_per_tag_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"tag1","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"tag2","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_recipient_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.45,"label":"123.45€"}]},{"label":"test","data":[{"name":null,"timestamp":"2023-03-25","value":9.55,"label":"10.00$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_account_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"2023-03-25","value":10.0,"label":"10.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_currency_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Euro","data":[{"name":null,"timestamp":"2023-03-25","value":123.0,"label":"123.00€"}]},{"label":"USD","data":[{"name":null,"timestamp":"2023-03-25","value":10.0,"label":"10.00$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_earning_spending_net_over_time within date range returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?from_date=2022-05-01T15:16:01.900Z&to_date=2024-05-01T15:16:01.900Z&date_period=daily",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"2023-03-25","value":133.45,"label":"123.45€ 10.00$"}]},{"label":"Net","data":[{"name":null,"timestamp":"2023-03-25","value":133.0,"label":"123.00€ 10.00$"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-25","value":-0.45,"label":"-0.45€"}]}]}
					}
				},



				{
					"name": "post of new transaction in account 0 on same day returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T12:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 123,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in account 1 on same day returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of new tag returns 200]]]...[[[id]]]%%%","%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T12:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 0,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "$",
									"is_negative": true
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction in account 2 on same day returns 200",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[post of new account with USD Currency returns 200]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[post of new recipient returns 200]]]...[[[id]]]%%%",
						"status": 1,
						"tag_ids": ["%%%[[[post of second new tag returns 200]]]...[[[id]]]%%%"],
						"timestamp": "2023-03-25T12:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": 10,
									"minor": 0,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},



				{
					"name": "retrieval of pie chart using filter_collection get_per_recipient_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.9,"label":"247.90€"},{"name":null,"timestamp":"2123-03-25","value":248.9,"label":"248.90€"}]},{"label":"test","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.1,"label":"24.55$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":29.1,"label":"29.55$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of pie chart using filter_collection get_per_tag_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"tag1","data":[{"name":null,"timestamp":"1923-03-25","value":3.0,"label":"2.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":249.0,"label":"247.45€ 1.55$"},{"name":null,"timestamp":"2123-03-25","value":252.0,"label":"3.55$ 248.45€"}]},{"label":"tag2","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.1,"label":"24.55$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":29.1,"label":"29.55$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_recipient_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.9,"label":"247.90€"},{"name":null,"timestamp":"2123-03-25","value":248.9,"label":"248.90€"}]},{"label":"test","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.1,"label":"24.55$ -0.45€"},{"name":null,"timestamp":"2123-03-25","value":29.1,"label":"29.55$ -0.45€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_account_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.45,"label":"247.45€"},{"name":null,"timestamp":"2123-03-25","value":248.45,"label":"248.45€"}]},{"label":"USD","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.55,"label":"24.55$"},{"name":null,"timestamp":"2123-03-25","value":29.55,"label":"29.55$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_per_currency_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_currency_over_time returns 200]]]...[[[id]]]%%%/data",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Euro","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.45,"label":"247.45€"},{"name":null,"timestamp":"2123-03-25","value":248.45,"label":"248.45€"}]},{"label":"USD","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.55,"label":"24.55$"},{"name":null,"timestamp":"2123-03-25","value":29.55,"label":"29.55$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_earning_spending_net_over_time with multiple transactions on one day returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=daily",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":266.9,"label":"246.90€ 20.00$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":266.0,"label":"246.45€ 19.55$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-25","value":-0.9,"label":"-0.45€ -0.45$"}]}]}
					}
				},


				{
					"name": "retrieval of pie chart get_per_tag_over_time using option max_items returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_tag_over_time returns 200]]]...[[[id]]]%%%/data?max_items=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"tag1","data":[{"name":null,"timestamp":"1923-03-25","value":3.0,"label":"2.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":249.0,"label":"247.45€ 1.55$"},{"name":null,"timestamp":"2123-03-25","value":252.0,"label":"3.55$ 248.45€"}]}]}
					}
				},
				{
					"name": "retrieval of pie chart get_per_recipient_over_time using option max_items returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding pie chart using filter_collection get_per_recipient_over_time returns 200]]]...[[[id]]]%%%/data?max_items=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.9,"label":"247.90€"},{"name":null,"timestamp":"2123-03-25","value":248.9,"label":"248.90€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using option max_items returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_per_account_over_time returns 200]]]...[[[id]]]%%%/data?max_items=2",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Default","data":[{"name":null,"timestamp":"1923-03-25","value":1.0,"label":"1.00€"},{"name":null,"timestamp":"2023-03-25","value":247.45,"label":"247.45€"},{"name":null,"timestamp":"2123-03-25","value":248.45,"label":"248.45€"}]},{"label":"USD","data":[{"name":null,"timestamp":"1923-03-25","value":5.0,"label":"5.00$"},{"name":null,"timestamp":"2023-03-25","value":24.55,"label":"24.55$"},{"name":null,"timestamp":"2123-03-25","value":29.55,"label":"29.55$"}]}]}
					}
				},


				{
					"name": "retrieval of line chart with date_period daily returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=daily",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":266.9,"label":"246.90€ 20.00$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-03-25","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-25","value":266.0,"label":"246.45€ 19.55$"},{"name":null,"timestamp":"2123-03-25","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-25","value":-0.9,"label":"-0.45€ -0.45$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart with date_period monthly returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=monthly",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-03-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-01","value":266.9,"label":"246.90€ 20.00$"},{"name":null,"timestamp":"2123-03-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-03-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-03-01","value":266.0,"label":"246.45€ 19.55$"},{"name":null,"timestamp":"2123-03-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-03-01","value":-0.9,"label":"-0.45€ -0.45$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart with date_period quarterly returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=quarterly",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-01-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-01-01","value":266.9,"label":"246.90€ 20.00$"},{"name":null,"timestamp":"2123-01-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-01-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-01-01","value":266.0,"label":"246.45€ 19.55$"},{"name":null,"timestamp":"2123-01-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-01-01","value":-0.9,"label":"-0.45€ -0.45$"}]}]}
					}
				},
				{
					"name": "retrieval of line chart with date_period yearly returns correct output",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_earning_spending_net_over_time returns 200]]]...[[[id]]]%%%/data?date_period=yearly",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"Earning","data":[{"name":null,"timestamp":"1923-01-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-01-01","value":266.9,"label":"246.90€ 20.00$"},{"name":null,"timestamp":"2123-01-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Net","data":[{"name":null,"timestamp":"1923-01-01","value":6.0,"label":"5.00$ 1.00€"},{"name":null,"timestamp":"2023-01-01","value":266.0,"label":"246.45€ 19.55$"},{"name":null,"timestamp":"2123-01-01","value":6.0,"label":"5.00$ 1.00€"}]},{"label":"Spending","data":[{"name":null,"timestamp":"2023-01-01","value":-0.9,"label":"-0.45€ -0.45$"}]}]}
					}
				},



				{
					"name": "post of new asset returns 200",
					"endpoint": "/api/v1/assets",
					"method": "POST",
					"body": {
						"name": "test",
						"description": "description",
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of first valuation returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of new asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 23,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 10,
						"timestamp": "2021-03-18T11:22:00Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of second valuation returns 200",
					"endpoint": "/api/v1/assets/%%%[[[post of new asset returns 200]]]...[[[id]]]%%%/valuations",
					"method": "POST",
					"body": {
						"value_per_unit": {
							"major": 1,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€",
							"is_negative": false
						},
						"amount": 20,
						"timestamp": "2022-03-18T11:22:00Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_single_asset_total_value_over_time returns correct output two valuations",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_total_value_over_time returns 200]]]...[[[id]]]%%%/data?asset_id=%%%[[[post of new asset returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"test","data":[{"name":null,"timestamp":"2021-03-18","value":12.3,"label":"12.30€"},{"name":null,"timestamp":"2022-03-18","value":20.0,"label":"20.00€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_single_asset_single_value_over_time returns correct output two valuations",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_single_value_over_time returns 200]]]...[[[id]]]%%%/data?asset_id=%%%[[[post of new asset returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"test","data":[{"name":null,"timestamp":"2021-03-18","value":1.23,"label":"1.23€"},{"name":null,"timestamp":"2022-03-18","value":1.0,"label":"1.00€"}]}]}
					}
				},
				{
					"name": "retrieval of line chart using filter_collection get_single_asset_amount_over_time returns correct output two valuations",
					"endpoint": "/api/v1/charts/%%%[[[adding line chart using filter_collection get_single_asset_amount_over_time returns 200]]]...[[[id]]]%%%/data?asset_id=%%%[[[post of new asset returns 200]]]...[[[id]]]%%%",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"datasets":[{"label":"test","data":[{"name":null,"timestamp":"2021-03-18","value":10.0,"label":"10"},{"name":null,"timestamp":"2022-03-18","value":20.0,"label":"20"}]}]}
					}
				}
			]
		},
		{
			"name": "budgets",
			"defaults": {
				"cookies": {
					"access_token": "$login_as_admin.access_token"
				},
				"before": [
					"login_as_admin"
				]
			},
			"tests": [
				{
					"name": "retrieval of all budgets works on empty db",
					"endpoint": "/api/v1/budgets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": []
					}
				},
				{
					"name": "get euro",
					"endpoint": "/api/v1/currencies/all?max_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Euro","minor_in_major":100,"symbol":"€"}]
					}
				},
				{
					"name": "get usd",
					"endpoint": "/api/v1/currencies/all?skip_results=1",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"USD","minor_in_major":100,"symbol":"$"}]
					}
				},
				{
					"name": "post tag id 0",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post tag id 1",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test2"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post tag id 2",
					"endpoint": "/api/v1/tags",
					"method": "POST",
					"body": {
						"name": "test3"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new budget returns 200",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test",
						"rollover": true,
						"period": 1,
						"amount": {
							"major": 10,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new budget created correctly",
					"endpoint": "/api/v1/budgets/all?at_timestamp=2023-10-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":10,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":1,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":1430,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "get single budget by id works",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200]]]...[[[id]]]%%%?at_timestamp=2023-10-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": {"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":10,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":1,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":1430,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}
					}
				},
				{
					"name": "attempting to get single budget with non existant id returns 404",
					"endpoint": "/api/v1/budgets/7cd275b2-a201-4276-8fa7-afb66642dfe6",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404,
						"body_equals": {"error":"specified item of type budget not found with filter id=7cd275b2-a201-4276-8fa7-afb66642dfe6"}
					}
				},
				{
					"name": "updating details of budget returns 200",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name": "edited test",
						"rollover": false,
						"period": 2,
						"amount": {
							"major": 20,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "$"
						},
						"filter_tag_ids": ["%%%[[[post tag id 2]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get usd]]]...[[[id]]]%%%",
						"active_from": "2020-02-04T12:34:56Z",
						"active_to": null
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "updated budget details saved correctly",
					"endpoint": "/api/v1/budgets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":2,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "post of another new budget returns 200",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test for deletion",
						"rollover": true,
						"period": 1,
						"amount": {
							"major": 10,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "$"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get usd]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": null
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "deleting budget returns 200",
					"endpoint": "/api/v1/budgets/%%%[[[post of another new budget returns 200]]]...[[[id]]]%%%",
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "correct budget got deleted",
					"endpoint": "/api/v1/budgets/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":2,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "post of new budget returns 200 2",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test 2",
						"rollover": false,
						"period": 3,
						"amount": {
							"major": 13,
							"minor": 78,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new budget returns 200 3",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test 3",
						"rollover": false,
						"period": 3,
						"amount": {
							"major": 13,
							"minor": 78,
							"minor_in_major": 100,
							"symbol": "$"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get usd]]]...[[[id]]]%%%",
						"active_from": "2020-02-04T12:34:56Z",
						"active_to": null
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new budget returns 200 4",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test 4",
						"rollover": true,
						"period": 3,
						"amount": {
							"major": 13,
							"minor": 78,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new budget returns 200 5",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"body": {
						"name": "test 5",
						"rollover": false,
						"period": 3,
						"amount": {
							"major": 13,
							"minor": 78,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "retrieval of budgets returns expected output when using skip_results",
					"endpoint": "/api/v1/budgets/all?skip_results=2&at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%","name":"test 3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%","name":"test 4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":3,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":151,"minor":58,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 5]]]...[[[id]]]%%%","name":"test 5","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "retrieval of budgets returns expected output when using skip_results and max_results",
					"endpoint": "/api/v1/budgets/all?skip_results=2&max_results=2&at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%","name":"test 3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%","name":"test 4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":3,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":151,"minor":58,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "retrieval of budgets returns expected output when using filter_id",
					"endpoint": "/api/v1/budgets/all?filter_id=%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%&at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%","name":"test 4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":3,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":151,"minor":58,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "retrieval of budgets returns expected output when using filter_id and filter_mode_id=exact",
					"endpoint": "/api/v1/budgets/all?filter_id=%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%&filter_mode_id=exact&at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%","name":"test 4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":3,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":151,"minor":58,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "retrieval of budgets returns expected output when using filter_id and filter_mode_id=not",
					"endpoint": "/api/v1/budgets/all?filter_id=%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%&filter_mode_id=not&at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":2,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 2]]]...[[[id]]]%%%","name":"test 2","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%","name":"test 3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 5]]]...[[[id]]]%%%","name":"test 5","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "retrieval of all recipients works",
					"endpoint": "/api/v1/recipients/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","user_id":null,"tag_ids":[]}]
					}
				},
				{
					"name": "retrieval of all accounts works",
					"endpoint": "/api/v1/accounts/all",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%ANY_UUID%%%","name":"Default","default_currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","tag_ids":[],"balance":null}]
					}
				},
				{
					"name": "post of new transaction returns 200 1",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"positions": [
							{
								"amount": {
									"major": -1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 2",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-01-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 3",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-03-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -2,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 4",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-05-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 5",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-06-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": 1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 6",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-08-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": 1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 7",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-10-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 8",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2023-11-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -2,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "post of new transaction returns 200 9",
					"endpoint": "/api/v1/transactions",
					"method": "POST",
					"body": {
						"account_id": "%%%[[[retrieval of all accounts works]]]...[[[id]]]%%%",
						"recipient_id": "%%%[[[retrieval of all recipients works]]]...[[[id]]]%%%",
						"status": 1,
						"timestamp": "2024-11-25T11:22:00.000Z",
						"comment": "this is a comment",
						"tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"positions": [
							{
								"amount": {
									"major": -1,
									"minor": 45,
									"minor_in_major": 100,
									"symbol": "€"
								},
								"comment": "a"
							}
						]
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "budgets get correctly calculated",
					"endpoint": "/api/v1/budgets/all?at_timestamp=2023-12-28T12:34:56Z",
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[post of new budget returns 200]]]...[[[id]]]%%%","name":"edited test","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":2,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":20,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 2]]]...[[[id]]]%%%","name":"test 2","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":2,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":11,"minor":33,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0.17779390420899854},{"id":"%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%","name":"test 3","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get usd]]]...[[[id]]]%%%","active_from":"2020-02-04T12:34:56Z","active_to":null,"used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"$","is_negative":false},"available_amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"$","is_negative":false},"utilization":0},{"id":"%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%","name":"test 4","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":3,"filter_tag_ids":["%%%[[[post tag id 1]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":3,"minor":90,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":146,"minor":68,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":2.5728987993138937e-2},{"id":"%%%[[[post of new budget returns 200 5]]]...[[[id]]]%%%","name":"test 5","user_id":"%%%[[[get current user]]]...[[[id]]]%%%","amount":{"major":13,"minor":78,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":false,"period":3,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":2,"minor":45,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":11,"minor":33,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0.17779390420899854}]
					}
				},
				{
					"name": "set active from returns 200",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200 4]]]...[[[id]]]%%%",
					"method": "PUT",
					"body": {
						"name": "test 4",
						"rollover": true,
						"period": 3,
						"amount": {
							"major": 13,
							"minor": 78,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 1]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2023-10-26T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "add new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"body": {
						"name": "new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "new user can post budget",
					"endpoint": "/api/v1/budgets",
					"method": "POST",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "test",
						"rollover": true,
						"period": 1,
						"amount": {
							"major": 10,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "€"
						},
						"filter_tag_ids": ["%%%[[[post tag id 0]]]...[[[id]]]%%%", "%%%[[[post tag id 2]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get euro]]]...[[[id]]]%%%",
						"active_from": "2021-02-04T12:34:56Z",
						"active_to": "2035-02-04T12:34:56Z"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "get new current user",
					"endpoint": "/api/v1/users/me",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200
					}
				},
				{
					"name": "new user can only see their own budgets",
					"endpoint": "/api/v1/budgets/all?at_timestamp=2023-11-28T12:34:56Z",
					"method": "GET",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"expected_outcome": {
						"status_code_equals": 200,
						"body_equals": [{"id":"%%%[[[new user can post budget]]]...[[[id]]]%%%","name":"test","user_id":"%%%[[[get new current user]]]...[[[id]]]%%%","amount":{"major":10,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"rollover":true,"period":1,"filter_tag_ids":["%%%[[[post tag id 0]]]...[[[id]]]%%%","%%%[[[post tag id 2]]]...[[[id]]]%%%"],"currency_id":"%%%[[[get euro]]]...[[[id]]]%%%","active_from":"2021-02-04T12:34:56Z","active_to":"2035-02-04T12:34:56Z","used_amount":{"major":0,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"available_amount":{"major":1480,"minor":0,"minor_in_major":100,"symbol":"€","is_negative":false},"utilization":0}]
					}
				},
				{
					"name": "new user cant modify budget of other user",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%",
					"method": "PUT",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"body": {
						"name": "edited test",
						"rollover": false,
						"period": 2,
						"amount": {
							"major": 20,
							"minor": 0,
							"minor_in_major": 100,
							"symbol": "$"
						},
						"filter_tag_ids": ["%%%[[[post tag id 2]]]...[[[id]]]%%%", "%%%[[[post tag id 1]]]...[[[id]]]%%%"],
						"currency_id": "%%%[[[get usd]]]...[[[id]]]%%%",
						"active_from": "2020-02-04T12:34:56Z",
						"active_to": null
					},
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant get other users budget by id",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant get transaction of other users budget",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%/transactions",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "GET",
					"expected_outcome": {
						"status_code_equals": 404
					}
				},
				{
					"name": "new user cant delete other users budget by id",
					"endpoint": "/api/v1/budgets/%%%[[[post of new budget returns 200 3]]]...[[[id]]]%%%",
					"before": [
						"login_as_user"
					],
					"cookies": {
						"access_token": "$login_as_user.access_token"
					},
					"method": "DELETE",
					"expected_outcome": {
						"status_code_equals": 404
					}
				}
			]
		},
		{
			"name": "insert_demo_data",
			"tests": [
				{
					"name": "post of new user works",
					"endpoint": "/api/v1/users",
					"method": "POST",
					"cookies": {
						"access_token": "$login_as_admin.access_token"
					},
					"before": [
						"login_as_admin"
					],
					"body": {
						"name": "aaa new user",
						"secret": "default_pass123",
						"superuser": false
					},
					"expected_outcome": {
						"status_code_equals": 200
					} 
				},
				{
					"name": "inserting demo data returns 200",
					"endpoint": "/api/v1/insert_demo_data",
					"method": "POST",
					"cookies": {
						"access_token": "$login_as_user2.access_token"
					},
					"before": [
						"login_as_user2"
					],
					"expected_outcome": {
						"status_code_equals": 200
					}
				}
			]
		}
	]
}